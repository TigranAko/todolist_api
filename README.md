# todolist_api

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**TodoList API** ‚Äî —ç—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π REST API-—Å–µ—Ä–≤–∏—Å, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é **FastAPI** –∏ **SQLite**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞–º–∏ –∑–∞–¥–∞—á (**ToDo**) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–∞–∫ **PET-–ø—Ä–æ–µ–∫—Ç** –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–±–æ—Ç—ã —Å:
- FastAPI –∏ Pydantic
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- CRUD-–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- –°–≤—è–∑—è–º–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ (One-to-Many)
- SQLite (–±–µ–∑ ORM, —á–µ—Ä–µ–∑ —á–∏—Å—Ç—ã–π SQL)

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Docker**
- **Python 3.10+**
- **FastAPI**
- **Uvicorn**
- **SQLAlchemy**
- **Postgres**
- **psycopg 3**
- **Pydantic**

---

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
todolist_api/
-- app/
---- main.py              # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
---- database.py          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
---- shemas.py            # Pydantic-–º–æ–¥–µ–ª–∏ (User, Todo)
---- requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
---- Dockerfile
-- README.md            # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
-- docker-compose.yaml
```

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
| –ü–æ–ª–µ      | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|------------|----------|-----------------------------------|
| id         | INTEGER  | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç)    |
| username   | TEXT     | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)   |
| password   | TEXT     | –ü–∞—Ä–æ–ª—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)             |

### –¢–∞–±–ª–∏—Ü–∞ `todos`
| –ü–æ–ª–µ         | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                                       |
|---------------|----------|------------------------------------------------|
| id            | INTEGER  | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç)                |
| title         | TEXT     | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏                              |
| description   | TEXT     | –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏                               |
| completed     | BOOLEAN  | –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é False)        |
| user_id       | INTEGER  | –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `users(id)`                   |
| created_at    | TIMESTAMP| –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                                 |
| completed_at  | TIMESTAMP| –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞)              |

> üîó –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ –µ–≥–æ –∑–∞–¥–∞—á–∏ (`ON DELETE CASCADE`).

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/yourusername/todolist_api.git
cd todolist_api
```

### 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å docker-compose.yml
```bash
docker compose up
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:  
FastAPI: [http://127.0.0.1:8000](http://127.0.0.1:8000/)
Adminer: [http://localhost:8080](http://localhost:8080/)

---

## üß† API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**POST /register**

–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```bash
curl -X 'POST' 'http://127.0.0.1:8000/register' -H 'Content-Type: application/json' -d '{"username": "test_user", "password": "12345"}'
```

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
```json
{
  "message": "User registered successfully!"
}
```

---

### ‚úÖ CRUD –¥–ª—è –∑–∞–¥–∞—á (Todo)

#### üìå –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
**POST /todos**

```json
{
  "title": "Buy groceries",
  "description": "Milk, eggs, bread",
  "user_id": 1
}
```

**–û—Ç–≤–µ—Ç**
```json
{
  "id": 1,
  "title": "Buy groceries",
  "description": "Milk, eggs, bread",
  "completed": false,
  "user_id": 1,
  "created_at": "2024-03-10T09:00:00Z"
}
```

---

#### üìñ –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
**GET /todos/{id}**

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**
```
GET /todos/1
```

**–û—Ç–≤–µ—Ç**
```json
{
  "id": 1,
  "title": "Buy groceries",
  "description": "Milk, eggs, bread",
  "completed": false,
  "user_id": 1
}
```

---

#### ‚úèÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
**PUT /todos/{id}**

```json
{
  "title": "Buy groceries and fruits",
  "description": "Milk, eggs, bread, apples",
  "completed": true,
  "user_id": 1
}
```

**–û—Ç–≤–µ—Ç**
```json
{
  "message": "Todo updated successfully!"
}
```

---

#### ‚ùå –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É
**DELETE /todos/{id}**

**–û—Ç–≤–µ—Ç**
```json
{
  "message": "Todo deleted successfully!"
}
```

---

### üßπ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–¥–∞—á

**DELETE /users/{user_id}**

–£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—Å–µ –µ–≥–æ –∑–∞–¥–∞—á–∏.

**–û—Ç–≤–µ—Ç**
```json
{
  "message": "User and associated todos deleted"
}
```

---

## üß≠ Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

- Swagger UI: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
- ReDoc: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

---

## üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `async`/`await`)  
‚úÖ –ß–∏—Å—Ç—ã–π SQL –±–µ–∑ ORM  
‚úÖ SQLite ‚Äî –ø—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å  
‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (`ON DELETE CASCADE`)  
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—é  
‚úÖ –£–¥–æ–±–Ω–∞—è Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (—Ñ–∏–ª—å—Ç—Ä—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

**–ò–º—è:** *Tigran*  
**GitHub:** [https://github.com/TigranAko](https://github.com/TigranAko)

---

## ü™™ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.  
–°–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ –æ–±—É—á–∞–π—Ç–µ—Å—å –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ.
